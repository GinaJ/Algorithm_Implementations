%\documentclass[12pt,twoside]{report}
%cambia qualcosa da twoside a oneside????
\documentclass[12pt, english, makeidx, a4paper, titlepage, oneside]{report}
%\documentstyle[fancychapters]{report}
%\documentclass[12pt,openright]{report}
\usepackage{array}
\usepackage{mathtools}
\usepackage{makeidx}
%\usepackage[italian]{babel}
\usepackage[english]{babel}         %  Package con le regole di sillabazione (italiano)
\usepackage{toptesi}                %  File di stile per le tesi, by CB
\usepackage{epstopdf}
\usepackage[latin1]{inputenc}       %  Per usare i font nuovi
\usepackage{graphicx}               %  Pacchetto per l'inserzione di figure post-script
\usepackage{subfigure}              %  Per mettere piu` immagini una accanto all'altra
\usepackage{booktabs}               
\usepackage{amsfonts}               %  Pacchetto speciale per i font matematici AMS
\usepackage{amssymb}                %  Pacchetto speciale per i simboli matematici AMS
\usepackage{amsmath} 

\usepackage{colortbl}
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{rotating} 
\usepackage{xcolor}
\usepackage{bm}                     %  Il modo per realizzare simboli matematici in neretto
\usepackage{listings}               %  Per includere in modo semplice i listati in appendice
\usepackage{hyperref}
\usepackage{setspace}
\usepackage{etoolbox}% http://ctan.org/pkg/etoolbox
\makeatletter
\patchcmd{\@makechapterhead}{\vspace*{50\p@}}{}{}{}% Removes space above \chapter head
\patchcmd{\@makeschapterhead}{\vspace*{50\p@}}{}{}{}% Removes space above \chapter* head
\makeatother
%\usepackage{titlesec}
%\titleformat{\chapter}[display]
%    {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
%\titlespacing*{\chapter}{0pt}{0pt}{40pt}
\usepackage{caption}
\usepackage{float}
\hypersetup{%
    pdfpagemode={UseOutlines},
    bookmarksopen,
    pdfstartview={FitH},
    colorlinks,
    linkcolor={blue},
    citecolor={blue},
    urlcolor={blue}
  }
  
\usepackage[dvipsnames]{xcolor}

\usepackage{fancyvrb}

% redefine \VerbatimInput
\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}%
{fontsize=\footnotesize,
	%
	frame=lines,  % top and bottom rule only
	framesep=2em, % separation between frame and text
	rulecolor=\color{Gray},
	%
	label=\fbox{\color{Black}data.txt},
	labelposition=topline,
	%
	commandchars=\|\(\), % escape character and argument delimiters for
	% commands within the verbatim
	commentchar=*        % comment character
}
  
  %% Impostazioni per codici VHDL %%
\lstset{basicstyle=\scriptsize\ttfamily, numbersep=2pt, showspaces=false, showstringspaces=false, showtabs=false,frame=\single, breakatwhitespace = true, numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt}
\lstset{backgroundcolor=\color{green!6}}
\lstset{morecomment=[s][\color{blue}]{/*}{*/}}

%% Impostazioni per i i codici MatLab
\lstloadlanguages{Matlab}
\lstset{% general command to set parameter(s)
basicstyle = \scriptsize\ttfamily, % print whole listing small
keywordstyle = \color{blue},% blue keywords
identifierstyle =, % nothing happens
commentstyle = \color{green}, % comments
stringstyle = \ttfamily, % typewriter type for strings
showstringspaces = false, % no special string spaces
firstnumber = 1, % numero della prima linea
numbers = left, %  show number_line
numberstyle = \tiny, % style of number_line
stepnumber = 5, % one number_line after stepnumber
numbersep = 5pt,
language = {Matlab}, % per riconoscere la sintassi matlab
extendedchars = true, % per abilitare caratteri particolari
breaklines = true, % per mandare a capo le righe troppo lunghe
breakautoindent = true, % indenta le righe spezzate
breakindent = 30pt, % indenta le righe di 30pt
}

%% Impostazioni per codici C %%
\lstset{basicstyle=\scriptsize\ttfamily, numbersep=1pt, showspaces=false, showstringspaces=false, showtabs=false,frame=\single, breakatwhitespace = true, numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt}
\lstset{backgroundcolor=\color{green!4}}
\lstset{morecomment=[s][\color{blue}]{/*}{*/}}
\lstset{language=c++, basicstyle=\ttfamily\scriptsize, keywordstyle=\color{blue}, stringstyle=\color{red}, commentstyle=\color{green}\ttfamily}

%listato serve a cambiare la dimensione del carattere nelle appendici con listati
\newenvironment{listato}{\footnotesize}
                        {\normalsize }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\summary}[2]{%
	\chapter{%
		\parbox{\textwidth}{%
			\left
			#1\\[1.5ex]% the title and the separation
			\normalfont\normalsize
			#2\\[2ex]% the author and the separation
			\large Summary
		}%
	}%
	\addcontentsline{toc}{chapter}{Summary}%
}


%\facolta{Ingegneria dell'Informazione}
\corsodilaurea{Ingegneria Informatica}          % INSERIRE CORSO DI LAUREA

\titolo{Algorithms Parallelization in ASIC Design}                           % INSERIRE TITOLO DELLA TESI

\relatore{Prof. Mariagrazia \textsc{Graziano}}                         % INSERIRE IL NOME DEL PRIMO RELATORE
\secondorelatore{Prof. Marco \textsc{Vacca}}                 % INSERIRE IL NOME DEL SECONDO (eventuale) RELATORE
\terzorelatore{Prof. Maurizio \textsc{Zamboni}}                   % INSERIRE IL NOME DEL TERZO (eventuale) RELATORE

\candidata{Gina \textsc{Jiang}}                       % INSERIRE IL NOME DEL PRIMO TESISTA
%\candidata{}                       % INSERIRE IL NOME DELLA PRIMA TESISTA
%\secondocandidato{}                % INSERIRE IL NOME DEL SECONDO (eventuale) TESISTA
               % INSERIRE IL NOME DELLA SECONDA (eventuale) TESISTA
%\terzocandidato{}                  % INSERIRE IL NOME DEL TERZO (eventuale) TESISTA
%\terzacandidata{}                  % INSERIRE IL NOME DELLA TERZA (eventuale) TESISTA
\sedutadilaurea{October 2017}%MODIFICARE IL MESE
\logosede{imm/LogoPoliTo-eps-converted-to}

\setcounter{tocdepth}{4}  %per farlo vedere nel sommario??
\setcounter{secnumdepth}{4} %profondità delle sottosezioni
\begin{document}
%\inglese\setcaptions
   \frontespizio
\ringraziamenti
I would like to express my gratitude to my supervisor Prof. Mariagrazia Graziano for giving me the passion for digital hardware design and how to optimize it.\\\\
Other thanks to Prof. Maurizio Zamboni for giving me some suggestions during the writing of this thesis.\\\\
A special thanks to Marco Vacca, Giovanna Turvani and Giulia Santoro for giving me advices and clarifications of the algorithms implemented.\\
Without you this thesis work wouldn't have been possible.
%\summary{Summary}
%{John Smith}
\sommario
In the last decades we have seen the computational time of processors been reduced more and more.\\
Especially an ASIC has major impact in this improvement. An ASIC (application-specific integrated circuit) is an integrated circuit (IC) customized for a particular use, rather than intended for general-purpose use.
This thesis presents efficient implementation of various algorithms in ASIC exploiting the parallelization and computing optimization whenever possible. The goal is to compute using the ASAP (As Soon As Possible) approach and, therefore, also to present a pareto efficiency. \\

Futhermore this thesis is used to be compared with emergent and modern general purpose multi-core processors.
In particular we will do some comparisons on the Logic-In-Memory architecture and the systolic array architecture regarding the clock cycles required and the number of resources used.\\
The Logic-In-Memory architecture is a general purpose processor where logic and memory are embedded in a unique entity. These entities are interconnected together to allows the exchanging of data among different units.
The systolic array architecture is made of arrays of processors which are connected to a small number of nearest neighbours in a mesh-like topology. Processors perform a sequence of operations on data that flows between them.


We have choosen a set of algorithms used for image processing, filter, image compression, and other use.\\
The main preferred characteristics are the parallelism, the required data storage, the communication between distant and near cells, and data dependencies.
\begin{itemize}
	\item \textbf{Summed area Table}: is an algorithm for quickly and efficiently generating the sum of values in a rectangular subset of a grid. Here we can perform some addition in parallel and wisely exploit some data dependencies between near and distant cells.
	\item \textbf{Discrete Cosine Transform}: a finite sequence of data points in terms of a sum of cosine functions oscillating at different frequencies. This computation is divided in two parts: the first one perform all the $ N^2 $ cosine products in parallel, the second one perform the $N $ sums, each sum has as addends $N$ cosine products.
	\item \textbf{Binomial Filter}: is a smoothing filters used to enhance noisy images (at the expense of blurring). It requires the comunication of all cells in the neighborhood, and all cells can perform in parallel. Here we can exploit some partial results to be used by other cells.
	\item \textbf{Finite impulse Response}: is a filter structure that can be used to implement almost any sort of frequency response digitally. It has been chosen, because it requires some memory to store the previous input, the multiplication can be done in parallel, while the additions has to be in sequence.
	\item \textbf{Transport equation problem}: it describes physical phenomena where particles, energy, or other physical quantities are transferred inside a physical system. Each cell has to perform vaious operations and communicate with near cells.
	\item \textbf{Magnetostatic field calculation 3D}It computes the magnetostatic field of a single cells with the magnetostatic field contributions between this cell and all the cells in a given 3D space.	All cells compute its own contributions in parallel, and then we perform the summation of all these contributions.		\end{itemize}

Some algorithms have been already implemented on the LIM architecture but not in a "smart" way. The Summed Area Table and the Binomial Filter can be reimplemented using my approach where some partial results can be stored and exploited by other cells (instead of re-evaluating them).		
\vspace{1cm}

Last but not least, we will do some analysis with the experimental Thessa tool that, given a C code,  generate a parallel code which can be used to program the LIM.\\
We will give some advice on how to maximize the parallelism for this tool.

\begin{figure}[h!]
	\centering
	\includegraphics[width=\textwidth]{imm/3d.png}  
	\caption{A section of the Magnetostatic field calculation 3D, where each cell perform the same operations and then we sum all the results} 
	\label{3dpreview}
\end{figure}



%\begin{center}
                           
%\include{new_chapters/sommario}
%\tablespagetrue


\figurespagetrue
                          		% INSERIRE IL NOME DEL FILE CONTENENTE IL SOMMARI
\indici
% L'ELENCO DELLE FIGURE E L'ELENCO DELLE TABELLE VENGONO INSERITI AUTOMATICAMENTE, SE SI VUOLE DISABILITARE QUESTA OPZIONE UTIZZARE I COMANDI \figurespagefalse E \tablespagetrue ALL'INTERNO DEL FILE toptesi.sty. ATTENZIONE I COMANDI SONO GIA' PRESENTI NEL FILE, COMMENTARLI A PIACERE ALL'OCCORRENZA.


%\include{new_chapters/10_fault_analysis}%I need to add this part.

%\doublespacing
\onehalfspacing
\include{chapters/introduction}
\include{chapters/iia}
\include{chapters/dct}
\include{chapters/bf}
\include{chapters/fir}
\include{chapters/tep}
\include{chapters/3D}
\include{chapters/sw}
\include{chapters/svd}
\include{chapters/syn}
\include{chapters/tessa}
\bibliography{bibliografia}   
%\include{chapters/references}               
\bibliographystyle{QUICKtran}          
\bibliographystyle{unsrt}
\begin{thebibliography}{1}
	\bibitem{asci0}Performance driven FPGA design with an ASIC perspective. Andreas Ehliar, 2009
		\bibitem{asic2}I. Kuon and J. Rose, \textquotedblleft Measuring the gap between fpgas and asics\textquotedblright,in Computer-Aided Design of Integrated Circuits and Systems, IEEE
	Transactions on, 2007.
	\bibitem{asic3}Actel, \textquotedblleft Igloo low-power flash fpgas handbook,\textquotedblright 2008. [Online].
	Available: \href{http://www.actel.com/documents/IGLOO_HB.pdf}{http://www.actel.com/documents/IGLOO\_HB.pdf}
	%\bibitem{asic4}T. Tuan, S. Kao, A. Rahman, S. Das, and S. Trimberger, \textquotedblleft A 90nm lowpower
	%fpga fo
	%r battery-powered applications\textquotedblright, in Proceedings of the
	%2006 ACM/SIGDA 14th international symposium on Field programmable
	%gate arrays, 2006, pp. 3-11
\bibitem{sat1}2013 by Yong Cao, Referencing UIUC ECE408/498AL Course Notes (Lecture 10 - Virginia Tech)
\bibitem{sat2} Prefix sum - Parallel algorithm - Wikipedia
\bibitem{sat3}Patrick Cozzi,University of Pennsylvaniam, Summed area tables, CIS 565 - Spring 2011
\bibitem{sat4}Qingqing Dang, Shengen Yan, Ren Wu, A fast integral image generation algorithm on GPUs, 2014 IEEE
\bibitem{lim} 2015, Mario Cofano, Mariagrazia Graziano, Maurizio Zamboni, Design of a Logic-in-Memory architecture for massive parallel algorithms

\bibitem{dct0}Discrete cosine transform - Wikipedia
\bibitem{dct1}PRACTICAL FAST 1-D DCT ALGORITHMS
WITH 11 MULTIPLICATIONS, Christoph Loeffler, Adriaan Lieenberg, and George S. Moschytz
\bibitem{dct2}2015, Filasieno Francesco, Garino Simone, Garlando Umberto, Progettazione di Sistemi a Basso Consumo : Array Sistolico Riconfigurabile
\bibitem{llm1}LLM Integer Cosine Transform and Its Fast Algorithm 
Chi-Keung Fong, Student Member, IEEE, and Wai-Kuen Cham, Senior Member, IEEE

\bibitem{llm2}High Order Integer Transform Design for  Video Compression,Jie Dong, Member, IEEE, and Yan Ye, Member, IEEE
\bibitem{bf1}DIGITAL IMAGE FILTERING By Fred Weinhaus
\bibitem{fir1}Integrated system architecture, lecture notes by E. Raviola, 2017
\bibitem{tep1}A Guide to Numerical Methods for Transport Equations, Dmitri Kuzmin

\bibitem{3dtesi}DEVELOPPEMENT D'UN CODE DE CALCUL MICROMAGNETIQUE 2D ET 3D: APPLICATION A DES SYSTEMES REELS DE TYPES FILMS, PLOTS ET FILS, Liliana-Daniela BUDA 
\bibitem{SW}Analysis and Design of an Optimized HW Accelerator for Protein Alignment, Gianvito Urgese, Mariagrazia Graziano, Maurizio Zamboni, September 2012, Politecnico di Torino

\bibitem{sw-blosum} S. Henikoff, J. G. Henikoff, Amino acid substitution matrices from protein blocks in Proceedings of the National Academy of Sciences of the United States of America, v. 89(22), pp. 10915-10919, November 1992. 

\bibitem{sw1} T. F. Smith, M. S. Waterman, "Identification of Common Molecular Subsequences" in Journal of Molecular Biology, v. 147. 
\bibitem{svdintro}Andrew Gibiansky, Cool Linear Algebra: Singular Value Decomposition, \href{http://andrew.gibiansky.com/blog/mathematics/cool-linear-algebra-singular-value-decomposition/}{http://andrew.gibiansky.com/blog/mathematics/cool-linear-algebra-singular-value-decomposition/}
\bibitem{svdquora}Jason Liu, on Quora \href{https://www.quora.com/What-is-an-intuitive-explanation-of-singular-value-decomposition-SVD}{https://www.quora.com/What-is-an-intuitive-explanation-of-singular-value-decomposition-SVD}
\bibitem{tessa}Eugenio CETRULO, Mariagrazia Graziano, Maurizio Zamboni, Algorithm parallelization for Logic-in-Memory architectures

%\bibitem{sqrt0}A New Non-Restoring Square Root Algorithm and Its VLSI Implementations, Yamin Li and Wanming Chu, International Conference on Computer Design (ICCD?96), October 1996, Austin, Texas, USA


\end{thebibliography}
\appendix                          

%\include{appendix/conclusione}                         
\end{document}
